<!doctype html><html lang=zh dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='以团队简介页面的头像为例。
ImageMagick 是一款创建、编辑、合成，转换图像的命令行工具。支持格式超过 200 种，包括常见的 PNG, JPEG, GIF, HEIC, TIFF, DPX, EXR, WebP, Postscript, PDF, SVG 等。
功能包括调整，翻转，镜像(mirror)，旋转，扭曲，修剪和变换图像，调整图像颜色，应用各种特殊效果，或绘制文本，线条，多边形，椭圆和贝塞尔曲线等。
官网：https://www.imagemagick.org
批量处理命令（ImageMagick）在页面中使用的示例代码。


  HTML / 模板 示例
  #

推荐使用 srcset 提供 1x/2x 图像：
<img
  src="/images/avatars/jianghao-260.jpg"
  srcset="/images/avatars/jianghao-260.jpg 1x, /images/avatars/jianghao-520.jpg 2x"
  width="260"
  height="347"
  alt="Jianghao"
  class="avatar" />
如果想使用 WebP 并提供回退：
<picture>
  <source type="image/webp" srcset="/images/avatars/jianghao-260.webp 1x, /images/avatars/jianghao-520.webp 2x">
  <img src="/images/avatars/jianghao-260.jpg" srcset="/images/avatars/jianghao-260.jpg 1x, /images/avatars/jianghao-520.jpg 2x" width="260" height="347" alt="江浩" class="avatar">
</picture>
在 Hugo 中你也可以用 shortcode 或模板内的 image processing 自动生成不同尺寸，但那会增加构建开销。


  批量处理命令（ImageMagick）
  #

下面的命令假设你把原始图片放到 static/images/orig/，脚本会生成 static/images/avatars/ 下的 *-260.jpg 和 *-520.jpg。'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://cc.coolshell.in/docs/hugo/ImageMagick/"><meta property="og:site_name" content="众创社区"><meta property="og:title" content="批量处理- 图片裁切"><meta property="og:description" content='以团队简介页面的头像为例。
ImageMagick 是一款创建、编辑、合成，转换图像的命令行工具。支持格式超过 200 种，包括常见的 PNG, JPEG, GIF, HEIC, TIFF, DPX, EXR, WebP, Postscript, PDF, SVG 等。
功能包括调整，翻转，镜像(mirror)，旋转，扭曲，修剪和变换图像，调整图像颜色，应用各种特殊效果，或绘制文本，线条，多边形，椭圆和贝塞尔曲线等。
官网：https://www.imagemagick.org
批量处理命令（ImageMagick）在页面中使用的示例代码。
HTML / 模板 示例 # 推荐使用 srcset 提供 1x/2x 图像：
<img src="/images/avatars/jianghao-260.jpg" srcset="/images/avatars/jianghao-260.jpg 1x, /images/avatars/jianghao-520.jpg 2x" width="260" height="347" alt="Jianghao" class="avatar" /> 如果想使用 WebP 并提供回退：
<picture> <source type="image/webp" srcset="/images/avatars/jianghao-260.webp 1x, /images/avatars/jianghao-520.webp 2x"> <img src="/images/avatars/jianghao-260.jpg" srcset="/images/avatars/jianghao-260.jpg 1x, /images/avatars/jianghao-520.jpg 2x" width="260" height="347" alt="江浩" class="avatar"> </picture> 在 Hugo 中你也可以用 shortcode 或模板内的 image processing 自动生成不同尺寸，但那会增加构建开销。
批量处理命令（ImageMagick） # 下面的命令假设你把原始图片放到 static/images/orig/，脚本会生成 static/images/avatars/ 下的 *-260.jpg 和 *-520.jpg。'><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:published_time" content="2025-11-10T00:00:00+00:00"><meta property="article:modified_time" content="2025-11-10T00:00:00+00:00"><title>ImageMagick | 众创社区</title><link rel=icon href=../../../favicon.png><link rel=manifest href=../../../manifest.json><link rel=canonical href=https://cc.coolshell.in/docs/hugo/ImageMagick/><link rel=stylesheet href=../../../book.min.8dfd1a1e3782850a537d9159c60812d71ee981036750b80778a05084b554e7e1.css integrity="sha256-jf0aHjeChQpTfZFZxggS1x7pgQNnULgHeKBQhLVU5+E=" crossorigin=anonymous><script defer src=../../../fuse.min.js></script><script defer src=../../../zh.search.min.d59bbfe528319429494ce6c5a7b0d5902cd2d87667e66a7a9d0c69996c72c4c0.js integrity="sha256-1Zu/5SgxlClJTObFp7DVkCzS2HZn5mp6nQxpmWxyxMA=" crossorigin=anonymous></script><script defer src=../../../sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=../../../><span>众创社区</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=../../../docs/com/>事业介绍</a><ul><li><span>业务范围</span><ul><li><a href=../../../docs/com/ps/community/>社区服务</a></li><li><a href=../../../docs/com/ps/rurals/>乡村事业</a></li><li><a href=../../../docs/com/ps/esg/>公益事业</a></li><li><a href=../../../docs/com/ps/calling/>招募公告</a></li></ul></li><li><input type=checkbox id=section-5fc8d1e04535e56576ded877042d1047 class=toggle>
<label for=section-5fc8d1e04535e56576ded877042d1047 class="flex justify-between"><a href=../../../docs/com/cc/>青年社区</a></label><ul><li><input type=checkbox id=section-1764867ccd4739be3322bd409215243b class=toggle>
<label for=section-1764867ccd4739be3322bd409215243b class="flex justify-between"><a href=../../../docs/com/cc/what/>定义</a></label></li><li><input type=checkbox id=section-7c922891bf4fa4955a8cf17898ed43f9 class=toggle>
<label for=section-7c922891bf4fa4955a8cf17898ed43f9 class="flex justify-between"><a href=../../../docs/com/cc/when/>时间</a></label></li><li><input type=checkbox id=section-8cd1d61749a8996ca65d3b16cb8fcc09 class=toggle>
<label for=section-8cd1d61749a8996ca65d3b16cb8fcc09 class="flex justify-between"><a href=../../../docs/com/cc/where/>地理</a></label></li><li><input type=checkbox id=section-29f281e4b0533f632ece63017d148e47 class=toggle>
<label for=section-29f281e4b0533f632ece63017d148e47 class="flex justify-between"><a href=../../../docs/com/cc/who/>主体</a></label></li><li><input type=checkbox id=section-98aab470249a85588c61f9b1c8de6a6f class=toggle>
<label for=section-98aab470249a85588c61f9b1c8de6a6f class="flex justify-between"><a href=../../../docs/com/cc/whom/>客体</a></label></li><li><input type=checkbox id=section-aaca7d757ce6e7bd198f2b3352e15bec class=toggle>
<label for=section-aaca7d757ce6e7bd198f2b3352e15bec class="flex justify-between"><a href=../../../docs/com/cc/which/>要素</a></label></li><li><input type=checkbox id=section-9dabefe007115e73c75ad461aab040f4 class=toggle>
<label for=section-9dabefe007115e73c75ad461aab040f4 class="flex justify-between"><a href=../../../docs/com/cc/why/>缘由</a></label></li><li><input type=checkbox id=section-4c420cbe38e73537b5c5ed7b07852de3 class=toggle>
<label for=section-4c420cbe38e73537b5c5ed7b07852de3 class="flex justify-between"><a href=../../../docs/com/cc/cases1/>案例1</a></label></li><li><input type=checkbox id=section-2b09fd07dfc6fc1c90cb996a71024484 class=toggle>
<label for=section-2b09fd07dfc6fc1c90cb996a71024484 class="flex justify-between"><a href=../../../docs/com/cc/cases2/>案例2</a></label></li><li><input type=checkbox id=section-936e2a3f2017aa36572cf08a28c7bc31 class=toggle>
<label for=section-936e2a3f2017aa36572cf08a28c7bc31 class="flex justify-between"><a href=../../../docs/com/cc/how/>怎么做</a></label></li><li><input type=checkbox id=section-d8cca2323332e83c85a617c6f0326606 class=toggle>
<label for=section-d8cca2323332e83c85a617c6f0326606 class="flex justify-between"><a href=../../../docs/com/cc/prototype/>社区原型</a></label></li><li><input type=checkbox id=section-937efb481db1361b3f1b8bc44f0af3c8 class=toggle>
<label for=section-937efb481db1361b3f1b8bc44f0af3c8 class="flex justify-between"><a href=../../../docs/com/cc/guide/>操作手册</a></label></li></ul></li><li><a href=../../../docs/com/hr/>关于我们</a><ul><li><a href=../../../docs/com/hr/origin/>缘起由来</a></li><li><a href=../../../docs/com/hr/team/>成员简介</a></li><li><a href=../../../docs/com/hr/profession/>专业职能</a></li><li><a href=../../../docs/com/hr/cases/>案例名录</a></li><li><a href=../../../docs/com/hr/MI-BI/>目的原则</a></li></ul></li><li><input type=checkbox id=section-408aaa6eac48caa0b42bdc24b80e51a6 class=toggle>
<label for=section-408aaa6eac48caa0b42bdc24b80e51a6 class="flex justify-between"><a role=button>项目研究</a></label><ul><li><input type=checkbox id=section-428a7dcb112d8d153a8b37d2bd641b31 class=toggle>
<label for=section-428a7dcb112d8d153a8b37d2bd641b31 class="flex justify-between"><a href=../../../docs/com/rs/no1-strategy/>第一策略</a></label></li><li><input type=checkbox id=section-ba840e03096453dd8b6bcb6e506d9e2d class=toggle>
<label for=section-ba840e03096453dd8b6bcb6e506d9e2d class="flex justify-between"><a href=../../../docs/com/rs/capitalism/>宾客服务</a></label></li><li><input type=checkbox id=section-685812901025af1a69338ed81e889594 class=toggle>
<label for=section-685812901025af1a69338ed81e889594 class="flex justify-between"><a href=../../../docs/com/rs/fire/>火的功效</a></label></li><li><input type=checkbox id=section-a8f6dff00f314840b824dfc01115e63f class=toggle>
<label for=section-a8f6dff00f314840b824dfc01115e63f class="flex justify-between"><a href=../../../docs/com/rs/fire-research/>火的研究</a></label></li><li><input type=checkbox id=section-3a0200e070b2b93b78223fa6c5a50c96 class=toggle>
<label for=section-3a0200e070b2b93b78223fa6c5a50c96 class="flex justify-between"><a href=../../../docs/com/rs/why-folk/>民俗活动</a></label></li><li><input type=checkbox id=section-36650588ce9fa5b4cd037d48b7d69675 class=toggle>
<label for=section-36650588ce9fa5b4cd037d48b7d69675 class="flex justify-between"><a href=../../../docs/com/rs/event/>活动产品</a></label></li></ul></li><li><a href=../../../docs/com/Service-Agreement/>服务协议</a></li><li><a href=../../../docs/com/Partnership-Agreement/>合伙协议</a></li><li><a href=../../../docs/com/market/>财务营收</a></li><li><a href=../../../docs/com/No1/>第一之最</a></li><li><a href=../../../docs/com/mentors/>导师智库</a></li></ul></li><li><input type=checkbox id=section-4bd942d1bcdb9161a7f1689d7901a6a2 class=toggle checked>
<label for=section-4bd942d1bcdb9161a7f1689d7901a6a2 class="flex justify-between"><a href=../../../docs/hugo/>Hugo-Book FAQ</a></label><ul><li><a href=../../../docs/hugo/fold-menu/>折叠菜单</a></li><li><a href=../../../docs/hugo/config-book/>内容目录</a></li><li><a href=../../../docs/hugo/ImageMagick/ class=active>ImageMagick</a></li><li><a href=../../../docs/hugo/enforce-https/>强制https</a></li><li><a href=../../../docs/hugo/func-key/>参数列表</a></li><li><a href=../../../docs/hugo/github-debug/>github登录</a></li><li><a href=../../../docs/hugo/page-style/>页面样式</a></li><li><a href=../../../docs/hugo/srcset/>srcset</a></li><li><a href=../../../docs/hugo/avatars-guide/></a></li><li><a href=../../../docs/hugo/rembg_matting_optimization/>rembg抠图</a></li><li><a href=../../../docs/hugo/AWD/>图片布局</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=../../../svg/menu.svg class=book-icon alt=Menu></label><h3>ImageMagick</h3><label for=toc-control><img src=../../../svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#html--模板-示例>HTML / 模板 示例</a></li><li><a href=#批量处理命令imagemagick>批量处理命令（ImageMagick）</a></li><li><a href=#命名与管理建议>命名与管理建议</a></li><li><a href=#可选策略>可选策略</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1>批量处理- 图片裁切</h1><div class="flex align-center text-small book-post-meta"><img src=../../../svg/calendar.svg class=book-icon alt>
<span>2025-11-10</span>
<span class=post-author style=margin-left:2em>Atom.X</span></div><p>以团队简介页面的头像为例。</p><p>ImageMagick 是一款创建、编辑、合成，转换图像的命令行工具。支持格式超过 200 种，包括常见的 PNG, JPEG, GIF, HEIC, TIFF, DPX, EXR, WebP, Postscript, PDF, SVG 等。</p><p>功能包括调整，翻转，镜像(mirror)，旋转，扭曲，修剪和变换图像，调整图像颜色，应用各种特殊效果，或绘制文本，线条，多边形，椭圆和贝塞尔曲线等。</p><p>官网：https://www.imagemagick.org</p><p>批量处理命令（ImageMagick）在页面中使用的示例代码。</p><hr><h2 id=html--模板-示例>HTML / 模板 示例
<a class=anchor href=#html--%e6%a8%a1%e6%9d%bf-%e7%a4%ba%e4%be%8b>#</a></h2><p>推荐使用 <code>srcset</code> 提供 1x/2x 图像：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>img</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/images/avatars/jianghao-260.jpg&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>srcset</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/images/avatars/jianghao-260.jpg 1x, /images/avatars/jianghao-520.jpg 2x&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;260&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>height</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;347&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>alt</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Jianghao&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;avatar&#34;</span> /&gt;
</span></span></code></pre></div><p>如果想使用 WebP 并提供回退：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>picture</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>source</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;image/webp&#34;</span> <span style=color:#a6e22e>srcset</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/images/avatars/jianghao-260.webp 1x, /images/avatars/jianghao-520.webp 2x&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>img</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/images/avatars/jianghao-260.jpg&#34;</span> <span style=color:#a6e22e>srcset</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/images/avatars/jianghao-260.jpg 1x, /images/avatars/jianghao-520.jpg 2x&#34;</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;260&#34;</span> <span style=color:#a6e22e>height</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;347&#34;</span> <span style=color:#a6e22e>alt</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;江浩&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;avatar&#34;</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>picture</span>&gt;
</span></span></code></pre></div><p>在 Hugo 中你也可以用 shortcode 或模板内的 image processing 自动生成不同尺寸，但那会增加构建开销。</p><hr><h2 id=批量处理命令imagemagick>批量处理命令（ImageMagick）
<a class=anchor href=#%e6%89%b9%e9%87%8f%e5%a4%84%e7%90%86%e5%91%bd%e4%bb%a4imagemagick>#</a></h2><p>下面的命令假设你把原始图片放到 <code>static/images/orig/</code>，脚本会生成 <code>static/images/avatars/</code> 下的 <code>*-260.jpg</code> 和 <code>*-520.jpg</code>。</p><p>先安装工具（macOS）：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brew install imagemagick webp
</span></span></code></pre></div><p>单张处理示例（以 <code>Atom.png</code> 为例）：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 在仓库根目录运行</span>
</span></span><span style=display:flex><span>magick convert static/images/orig/Atom.png -resize <span style=color:#e6db74>&#39;520x694^&#39;</span> -gravity center -extent 520x694 -strip -quality <span style=color:#ae81ff>82</span> static/images/avatars/Atom-520.jpg
</span></span><span style=display:flex><span>magick convert static/images/orig/Atom.png -resize <span style=color:#e6db74>&#39;260x347^&#39;</span> -gravity center -extent 260x347 -strip -quality <span style=color:#ae81ff>82</span> static/images/avatars/Atom-260.jpg
</span></span></code></pre></div><p>批量处理（适用于 <code>orig</code> 目录下所有图片）：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>for</span> f in static/images/orig/*.<span style=color:#f92672>{</span>png,jpg,jpeg<span style=color:#f92672>}</span>; <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span> -f <span style=color:#e6db74>&#34;</span>$f<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span> <span style=color:#f92672>||</span> <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>  name<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>basename <span style=color:#e6db74>&#34;</span>$f<span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>  base<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>name%.*<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span>  magick convert <span style=color:#e6db74>&#34;</span>$f<span style=color:#e6db74>&#34;</span> -resize <span style=color:#e6db74>&#39;520x694^&#39;</span> -gravity center -extent 520x694 -strip -quality <span style=color:#ae81ff>82</span> <span style=color:#e6db74>&#34;static/images/avatars/</span><span style=color:#e6db74>${</span>base<span style=color:#e6db74>}</span><span style=color:#e6db74>-520.jpg&#34;</span>
</span></span><span style=display:flex><span>  magick convert <span style=color:#e6db74>&#34;</span>$f<span style=color:#e6db74>&#34;</span> -resize <span style=color:#e6db74>&#39;260x347^&#39;</span> -gravity center -extent 260x347 -strip -quality <span style=color:#ae81ff>82</span> <span style=color:#e6db74>&#34;static/images/avatars/</span><span style=color:#e6db74>${</span>base<span style=color:#e6db74>}</span><span style=color:#e6db74>-260.jpg&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><p>生成 WebP（可选）：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>for</span> img in static/images/avatars/*-520.jpg; <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>  cwebp -q <span style=color:#ae81ff>80</span> <span style=color:#e6db74>&#34;</span>$img<span style=color:#e6db74>&#34;</span> -o <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>img%.jpg<span style=color:#e6db74>}</span><span style=color:#e6db74>.webp&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> img in static/images/avatars/*-260.jpg; <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>  cwebp -q <span style=color:#ae81ff>80</span> <span style=color:#e6db74>&#34;</span>$img<span style=color:#e6db74>&#34;</span> -o <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>img%.jpg<span style=color:#e6db74>}</span><span style=color:#e6db74>.webp&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><p>（需要 <code>cwebp</code>：<code>brew install webp</code>）</p><hr><h2 id=命名与管理建议>命名与管理建议
<a class=anchor href=#%e5%91%bd%e5%90%8d%e4%b8%8e%e7%ae%a1%e7%90%86%e5%bb%ba%e8%ae%ae>#</a></h2><ul><li>目录：<code>static/images/avatars/</code>。</li><li>命名规则：<code>小写-连字符</code>，无空格，例如：<code>jianghao-260.jpg</code>、<code>jianghao-520.jpg</code>。</li><li>若图片需要人工裁切（例如人脸不居中），请单独处理并替换对应 <code>orig</code> 文件后再运行批量脚本。</li></ul><hr><h2 id=可选策略>可选策略
<a class=anchor href=#%e5%8f%af%e9%80%89%e7%ad%96%e7%95%a5>#</a></h2><ol><li>把仓库中原始头像集中到 <code>static/images/orig/</code>，运行批量脚本生成 260/520 图并提交到仓库（一次性做完）。</li><li>写一个 Hugo shortocode（<code>layouts/shortcodes/avatar.html</code>），在内容里只写 <code>&amp;#123;&amp;#123;&amp;lt; avatar "jianghao" &amp;gt;&amp;#125;&amp;#125;</code>，shortcode 根据文件名自动选择合适的 srcset（需要修改模板，较为复杂）。</li><li>只提供脚本和说明，在本地电脑上人工完成（不改仓库模板）。</li></ol><hr></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/coolshell-in/cc/edit/main/content/zh/docs/hugo/ImageMagick.md target=_blank rel=noopener><img src=../../../svg/edit.svg class=book-icon alt>
<span>编辑本页</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#html--模板-示例>HTML / 模板 示例</a></li><li><a href=#批量处理命令imagemagick>批量处理命令（ImageMagick）</a></li><li><a href=#命名与管理建议>命名与管理建议</a></li><li><a href=#可选策略>可选策略</a></li></ul></li></ul></nav></div></aside></main></body></html>