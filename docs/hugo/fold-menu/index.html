<!doctype html><html lang=zh dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='当设置文件创建日期大于当前实际日期时，折叠菜单无法显示。
例如：今天是 2025-05-07，若设置为2035-05-07，折叠菜单页面将无法显示。
经过检查代码，我发现：

  日期设置与折叠菜单的关系
  #

在Hugo中使用Book主题，特别注意事项：

Hugo默认会根据日期来确定内容是否应该发布
未来日期的内容被视为"草稿"或"未发布"状态
在默认配置下，未发布的内容不会在生成的站点中显示


  解决方案
  #

两种解决方案：

  方案1：修改日期
  #

将日期设置为当前日期或过去的日期，例如：

---
date: 2023-05-07
linktitle: "第三级菜单"
title: "第三级菜单"
weight: 10
#bookCollapseSection: true
---

// ... existing code ...

  方案2：在Hugo配置中启用未来内容
  #

如果您希望保留未来日期，可以在Hugo配置文件中添加以下设置：
# config.yaml 或 config.toml
buildFuture: true
这将告诉Hugo在构建站点时包含未来日期的内容。

  关于 bookCollapseSection
  #

在某些情况下，不设置 bookCollapseSection: true 也能正常显示折叠页面。这通常发生在以下情况：

当目录结构本身已经表明该部分应该是可折叠的（例如，有子页面存在）
当主题的默认行为是自动折叠具有子页面的部分

不过，为了确保一致的行为，建议在需要折叠的部分明确设置 bookCollapseSection: true，除非您确定主题的默认行为已经满足了需求。

  总结
  #


将日期设置为当前或过去的日期，或在Hugo配置中启用 buildFuture: true
根据需要决定是否使用 bookCollapseSection: true

这样应该可以解决折叠菜单显示问题。'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://cc.atomx.cc/docs/hugo/fold-menu/"><meta property="og:site_name" content="Crowd Creative Community.众创社区"><meta property="og:title" content="Hugo站点折叠菜单问题分析"><meta property="og:description" content='当设置文件创建日期大于当前实际日期时，折叠菜单无法显示。
例如：今天是 2025-05-07，若设置为2035-05-07，折叠菜单页面将无法显示。
经过检查代码，我发现：
日期设置与折叠菜单的关系 # 在Hugo中使用Book主题，特别注意事项：
Hugo默认会根据日期来确定内容是否应该发布 未来日期的内容被视为"草稿"或"未发布"状态 在默认配置下，未发布的内容不会在生成的站点中显示 解决方案 # 两种解决方案：
方案1：修改日期 # 将日期设置为当前日期或过去的日期，例如：
--- date: 2023-05-07 linktitle: "第三级菜单" title: "第三级菜单" weight: 10 #bookCollapseSection: true --- // ... existing code ... 方案2：在Hugo配置中启用未来内容 # 如果您希望保留未来日期，可以在Hugo配置文件中添加以下设置：
# config.yaml 或 config.toml buildFuture: true 这将告诉Hugo在构建站点时包含未来日期的内容。
关于 bookCollapseSection # 在某些情况下，不设置 bookCollapseSection: true 也能正常显示折叠页面。这通常发生在以下情况：
当目录结构本身已经表明该部分应该是可折叠的（例如，有子页面存在） 当主题的默认行为是自动折叠具有子页面的部分 不过，为了确保一致的行为，建议在需要折叠的部分明确设置 bookCollapseSection: true，除非您确定主题的默认行为已经满足了需求。
总结 # 将日期设置为当前或过去的日期，或在Hugo配置中启用 buildFuture: true 根据需要决定是否使用 bookCollapseSection: true 这样应该可以解决折叠菜单显示问题。'><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:published_time" content="2025-05-07T00:00:00+00:00"><meta property="article:modified_time" content="2025-05-07T00:00:00+00:00"><title>折叠菜单 | Crowd Creative Community.众创社区</title><link rel=icon href=../../../favicon.png><link rel=manifest href=../../../manifest.json><link rel=canonical href=https://cc.atomx.cc/docs/hugo/fold-menu/><link rel=stylesheet href=../../../book.min.00891a2d081e14e6ce37847aa64ed1210d78a68f83d347d736c38df385f5e806.css integrity="sha256-AIkaLQgeFObON4R6pk7RIQ14po+D00fXNsON84X16AY=" crossorigin=anonymous><script defer src=../../../fuse.min.js></script><script defer src=../../../zh.search.min.2ae894507ca3d41a97157556a21f7725c842c85e9d2e9f4b78be12af35f5691b.js integrity="sha256-KuiUUHyj1BqXFXVWoh93JchCyF6dLp9LeL4SrzX1aRs=" crossorigin=anonymous></script><script defer src=../../../sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=../../../><span>Crowd Creative Community.众创社区</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><span>众创社区</span><ul><li><a href=../../../docs/cc/what/>定义</a></li><li><a href=../../../docs/cc/when/>时间</a></li><li><a href=../../../docs/cc/where/>地理</a></li><li><a href=../../../docs/cc/who/>主体</a></li><li><a href=../../../docs/cc/whom/>客体</a></li><li><a href=../../../docs/cc/which/>要素</a></li><li><a href=../../../docs/cc/why/>为什么？</a></li><li><a href=../../../docs/cc/how/>怎么做？</a></li><li><a href=../../../docs/cc/cases1/>案例1</a></li><li><a href=../../../docs/cc/cases2/>案例2</a></li></ul></li><li><input type=checkbox id=section-4bd942d1bcdb9161a7f1689d7901a6a2 class=toggle checked>
<label for=section-4bd942d1bcdb9161a7f1689d7901a6a2 class="flex justify-between"><a href=../../../docs/hugo/>Hugo-Book FAQ</a></label><ul><li><a href=../../../docs/hugo/fold-menu/ class=active>折叠菜单</a></li><li><a href=../../../docs/hugo/config-book/>内容目录</a></li><li><a href=../../../docs/hugo/func-key/>参数列表</a></li><li><a href=../../../docs/hugo/page-style/>页面样式</a></li></ul></li></ul><ul><li><a href=https://themes.gohugo.io/themes/hugo-book/ target=_blank rel=noopener>Themes Hugo-Book</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=../../../svg/menu.svg class=book-icon alt=Menu></label><h3>折叠菜单</h3><label for=toc-control><img src=../../../svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#日期设置与折叠菜单的关系>日期设置与折叠菜单的关系</a></li><li><a href=#解决方案>解决方案</a><ul><li><a href=#方案1修改日期>方案1：修改日期</a></li><li><a href=#方案2在hugo配置中启用未来内容>方案2：在Hugo配置中启用未来内容</a></li></ul></li><li><a href=#关于-bookcollapsesection>关于 bookCollapseSection</a></li><li><a href=#总结>总结</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1>Hugo站点折叠菜单问题分析</h1><div class="flex align-center text-small book-post-meta"><img src=../../../svg/calendar.svg class=book-icon alt>
<span>2025-05-07</span>
<span class=post-author style=margin-left:2em>Atom.X</span></div><p>当设置文件创建日期大于当前实际日期时，折叠菜单无法显示。</p><p>例如：今天是 2025-05-07，若设置为2035-05-07，折叠菜单页面将无法显示。</p><p>经过检查代码，我发现：</p><h2 id=日期设置与折叠菜单的关系>日期设置与折叠菜单的关系
<a class=anchor href=#%e6%97%a5%e6%9c%9f%e8%ae%be%e7%bd%ae%e4%b8%8e%e6%8a%98%e5%8f%a0%e8%8f%9c%e5%8d%95%e7%9a%84%e5%85%b3%e7%b3%bb>#</a></h2><p>在Hugo中使用Book主题，特别注意事项：</p><ol><li>Hugo默认会根据日期来确定内容是否应该发布</li><li>未来日期的内容被视为"草稿"或"未发布"状态</li><li>在默认配置下，未发布的内容不会在生成的站点中显示</li></ol><h2 id=解决方案>解决方案
<a class=anchor href=#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88>#</a></h2><p>两种解决方案：</p><h3 id=方案1修改日期>方案1：修改日期
<a class=anchor href=#%e6%96%b9%e6%a1%881%e4%bf%ae%e6%94%b9%e6%97%a5%e6%9c%9f>#</a></h3><p>将日期设置为当前日期或过去的日期，例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown:/Users/projects/hugo-book/content/zh/docs/example/collapsed/3rd-level/_index.md data-lang=markdown:/Users/projects/hugo-book/content/zh/docs/example/collapsed/3rd-level/_index.md><span style=display:flex><span>
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>date: 2023-05-07
</span></span><span style=display:flex><span>linktitle: &#34;第三级菜单&#34;
</span></span><span style=display:flex><span>title: &#34;第三级菜单&#34;
</span></span><span style=display:flex><span>weight: 10
</span></span><span style=display:flex><span>#bookCollapseSection: true
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// ... existing code ...
</span></span></code></pre></div><h3 id=方案2在hugo配置中启用未来内容>方案2：在Hugo配置中启用未来内容
<a class=anchor href=#%e6%96%b9%e6%a1%882%e5%9c%a8hugo%e9%85%8d%e7%bd%ae%e4%b8%ad%e5%90%af%e7%94%a8%e6%9c%aa%e6%9d%a5%e5%86%85%e5%ae%b9>#</a></h3><p>如果您希望保留未来日期，可以在Hugo配置文件中添加以下设置：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># config.yaml 或 config.toml</span>
</span></span><span style=display:flex><span><span style=color:#f92672>buildFuture</span>: <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><p>这将告诉Hugo在构建站点时包含未来日期的内容。</p><h2 id=关于-bookcollapsesection>关于 bookCollapseSection
<a class=anchor href=#%e5%85%b3%e4%ba%8e-bookcollapsesection>#</a></h2><p>在某些情况下，不设置 <code>bookCollapseSection: true</code> 也能正常显示折叠页面。这通常发生在以下情况：</p><ol><li>当目录结构本身已经表明该部分应该是可折叠的（例如，有子页面存在）</li><li>当主题的默认行为是自动折叠具有子页面的部分</li></ol><p>不过，为了确保一致的行为，建议在需要折叠的部分明确设置 <code>bookCollapseSection: true</code>，除非您确定主题的默认行为已经满足了需求。</p><h2 id=总结>总结
<a class=anchor href=#%e6%80%bb%e7%bb%93>#</a></h2><ol><li>将日期设置为当前或过去的日期，或在Hugo配置中启用 <code>buildFuture: true</code></li><li>根据需要决定是否使用 <code>bookCollapseSection: true</code></li></ol><p>这样应该可以解决折叠菜单显示问题。</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/atomx-cc/cc/edit/main/content/zh/docs/hugo/fold-menu.md target=_blank rel=noopener><img src=../../../svg/edit.svg class=book-icon alt>
<span>编辑本页</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#日期设置与折叠菜单的关系>日期设置与折叠菜单的关系</a></li><li><a href=#解决方案>解决方案</a><ul><li><a href=#方案1修改日期>方案1：修改日期</a></li><li><a href=#方案2在hugo配置中启用未来内容>方案2：在Hugo配置中启用未来内容</a></li></ul></li><li><a href=#关于-bookcollapsesection>关于 bookCollapseSection</a></li><li><a href=#总结>总结</a></li></ul></li></ul></nav></div></aside></main></body></html>